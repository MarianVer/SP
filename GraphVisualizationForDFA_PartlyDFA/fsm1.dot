digraph FSM {
  rankdir=LR;
  node [shape=circle];

  start [shape=point];
  start -> "q0";

  /* Фінальні стани (подвійне коло) - коли лексема розпізнана */
  node [shape=doublecircle];
  "q_final_id";    /* Ідентифікатор розпізнано (_AB) */
  "q_final_arrow"; /* Стрілку розпізнано (->) */
  "q_final_num";   /* Число розпізнано */
  "q_final_sym";   /* Символ розпізнано (; { } тощо) */

  node [shape=circle];

  /* --- Логіка Ідентифікаторів (Варіант 2: _[A-Z][A-Z]) --- */
  "q0" -> "q_id1" [label="'_'"];
  "q_id1" -> "q_id2" [label="'A'..'Z'"];
  "q_id2" -> "q_final_id" [label="'A'..'Z'"];

  /* --- Логіка Стрілки (->) --- */
  "q0" -> "q_arrow1" [label="'-'"];
  "q_arrow1" -> "q_final_arrow" [label="'>'"];
  /* Якщо після мінуса не >, то це може бути просто мінус (SUB), якщо ми його так обробляємо */
  
  /* --- Логіка Чисел --- */
  "q0" -> "q_final_num" [label="'0'"];
  "q0" -> "q_num_nz" [label="'1'..'9'"];
  "q_num_nz" -> "q_final_num" [label="'0'..'9'"];
  "q_final_num" -> "q_final_num" [label="'0'..'9'"];

  /* --- Одиночні символи розділювачі (Варіант 2) --- */
  /* <, >, ;, ,, (, ), {, }, [, ] */
  "q0" -> "q_final_sym" [label="'<', '>', ';', ',', '(', ')', '{', '}', '[', ']'"];

  /* --- Пропуски (пробіли, таби) - повертаємось в початок --- */
  "q0" -> "q0" [label="' ', '\\t', '\\n'"];

  /* --- Помилковий стан (все інше) --- */
  "q0" -> "q_err" [label="other"];
}
